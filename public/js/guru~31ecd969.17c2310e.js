(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["guru~31ecd969"],{a9da:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-dialog",{attrs:{persistent:"",value:e.dialogActive,"max-width":"600px"}},[n("v-card",[n("v-alert",{attrs:{value:e.errorMsg,dismissible:"",color:"error"}},[e._v(" "+e._s(e.errorMsg)+" ")]),n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("Form",{attrs:{forminput:e.forminput,imageUrl:e.imageUrl}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1),n("Dialog",{attrs:{dialog:e.alert,title:"Hapus data",text:"Anda yakin ingin menghapus data ini ?"},on:{ok:e.OkButton,no:e.NoButton}}),n("v-fab-transition",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],attrs:{color:"pink",fab:"",dark:"",small:"",fixed:"",bottom:"",right:""},on:{click:e.addItem}},[n("v-icon",[e._v("add")])],1)],1),n("v-card-title",[e._v(" Table Guru "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.table,options:e.options,"server-items-length":e.lentable,loading:e.isLoading,"footer-props":{"items-per-page-options":[5,10,15,20,30]}},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" edit ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" delete ")])]}}])}),n("v-snackbar",{attrs:{value:e.errorMsg,color:e.color,"multi-line":"multi-line"===e.mode,timeout:e.timeout,vertical:"vertical"===e.mode}},[e._v(" "+e._s(e.errorMsg)+" "),n("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){return e.removeError()}}},[e._v(" Close ")])],1)],1)},i=[],a=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("c975"),n("fb6a"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("ac1f"),n("841c"),n("159b"),n("ade3"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={components:{Form:function(){return Promise.all([n.e("chunk-27cfdaa1"),n.e("chunk-597a9717"),n.e("chunk-3eb5eb33"),n.e("chunk-2d0bdd57"),n.e("chunk-af534a92"),n.e("chunk-2d0ddfd2")]).then(n.bind(null,"8477"))},Dialog:function(){return n.e("chunk-2d0c55d3").then(n.bind(null,"3f7a"))}},data:function(){return{color:"",mode:"",timeout:6e3,alert:!1,forminput:{imageFile:null,name:"Kristian",nip:"023912389123",gender:"Lelaki",religion:"Kristen Protestan",bornplace:"Jakarta",borndate:"",address:"Tangerang",phonenumber:"08943429343",relationship:"Single"},imageUrl:"",total:0,selected:[],sortbylast:null,search:"",loading:!1,formTitle:"Input Guru",hidden:!1,options:{},dialog:!1,editedIndex:-1,idselected:0,sortingDesc:"ASC",headers:[{text:"Nama",descending:!0,value:"name"},{text:"NIP",descending:!0,value:"NIP"},{text:"Kelamin",descending:!0,value:"gender"},{text:"Agama",descending:!0,value:"religion"},{text:"Tempat Lahir",descending:!0,value:"born_place"},{text:"Tanggal Lahir",descending:!0,value:"born_date"},{text:"Alamat",descending:!0,value:"address"},{text:"No Telp",descending:!0,value:"phone_number"},{text:"Actions",descending:!0,value:"action",sortable:!1}],currentY:0,lastY:0}},methods:{handleScroll:function(e){this.currentY=e.pageY,this.currentY>this.lastY?this.hidden=!0:this.hidden=!1,this.lastY=this.currentY},removeError:function(){var e=this.$store.dispatch;e("removeError")},editItem:function(e){var t=e.relationship,n=e.gender,r=e.teacher_id;this.editedIndex=-1,this.forminput={imageFile:null,name:e.name,nip:e.NIP,gender:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1)),religion:e.religion,bornplace:e.born_place,borndate:e.dateborn,address:e.address,phonenumber:e.phone_number,relationship:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1))},this.idselected=r,this.imageUrl="http://localhost:3000/images/uploads/".concat(e.picture),this.formTitle="Edit Guru";var i=this.$store.dispatch;i("openDialog")},addItem:function(){this.forminput={imageFile:null,name:"Kristian",nip:"023912389123",gender:"Lelaki",religion:"Kristen Protestan",bornplace:"Jakarta",borndate:"",address:"Tangerang",phonenumber:"08943429343",relationship:"Single"},this.imageUrl="",this.editedIndex=1,this.formTitle="Tambah Guru";var e=this.$store.dispatch;e("openDialog")},deleteItem:function(e){var t=this.table.indexOf(e);this.alert=!0,this.idselected=t},OkButton:function(){var e=this.$store.dispatch;e("deleteTeacher",{id:this.idselected.teacher_id}),this.alert=!1,this.idselected=0},NoButton:function(){this.alert=!1},close:function(){this.idselected=0},closeDialog:function(){var e=this.$store.dispatch;e("closeDialog")},save:function(){if(!this.isLoading){var e=new FormData;-1==this.editedIndex&&e.append("id",this.idselected),e.append("imgusr",this.forminput.imageFile),e.append("name",this.forminput.name),e.append("nip",this.forminput.nip),e.append("gender",this.forminput.gender),e.append("religion",this.forminput.religion),e.append("bornPlace",this.forminput.bornplace),e.append("bornDate",this.forminput.borndate),e.append("address",this.forminput.address),e.append("phoneNumber",this.forminput.phonenumber),e.append("relationship",this.forminput.relationship);var t=this.$store.dispatch;-1==this.editedIndex?t("updateTeacher",{data:e}):t("uploadTeacher",{data:e})}},getDataFromApi:function(){var e=this.$store.dispatch,t=this.options,n=t.sortBy,r=t.sortDesc,i=t.page,a=t.itemsPerPage;n.length>0&&(this.sortbylast=n),1===r.length&&(this.sortingDesc=r[0]?"DESC":"ASC"),e("storeReq",{index:i,rows:a,search:this.search,sortby:this.sortbylast,sort:this.sortingDesc})}},computed:{table:function(){return this.$store.getters["getAllItems"]},isLoading:function(){return this.$store.getters["getLoading"]},lentable:function(){return this.$store.getters["getLenItems"]},isUpload:function(){return this.$store.getters["getStatUpload"]},errorMsg:function(){return this.$store.getters["getError"]},params:function(){return s({},this.options,{query:this.search})},dialogActive:function(){return this.$store.getters["getDialog"]}},watch:{dialogActive:{handler:function(e){e||this.close()},deep:!0},options:{handler:function(){this.getDataFromApi()},deep:!0},params:{handler:function(){this.getDataFromApi()},deep:!0},isUpload:{handler:function(e,t){~e&&t&&this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi()},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},d=c,l=n("2877"),u=n("6544"),h=n.n(u),p=n("0798"),g=n("8336"),f=n("b0af"),m=n("99d9"),b=n("a523"),v=n("8fea"),x=n("169a"),k=n("0789"),y=n("132d"),O=n("2db4"),D=n("2fa4"),w=n("8654"),A=Object(l["a"])(d,r,i,!1,null,null,null);t["default"]=A.exports;h()(A,{VAlert:p["a"],VBtn:g["a"],VCard:f["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VContainer:b["a"],VDataTable:v["a"],VDialog:x["a"],VFabTransition:k["c"],VIcon:y["a"],VSnackbar:O["a"],VSpacer:D["a"],VTextField:w["a"]})},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,c="name";!r||c in a||i(a,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,a=n("b301"),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,c=a("indexOf");r({target:"Array",proto:!0,forced:s||c},{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),c=n("fc6a"),d=n("8418"),l=n("1dde"),u=n("b622"),h=u("species"),p=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!l("slice")},{slice:function(e,t){var n,r,l,u=c(this),f=s(u.length),m=o(e,f),b=o(void 0===t?f:t,f);if(a(u)&&(n=u.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(u,m,b);for(r=new(void 0===n?Array:n)(g(b-m,0)),l=0;m<b;m++,l++)m in u&&d(r,l,u[m]);return r.length=l,r}})}}]);
//# sourceMappingURL=guru~31ecd969.17c2310e.js.map