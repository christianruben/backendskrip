(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["jadwal~e23efc58"],{de2b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-dialog",{attrs:{persistent:"",value:t.dialogActive,"max-width":"600px"}},[s("v-card",[s("v-alert",{attrs:{value:t.errorMsg,dismissible:"",color:"error"}},[t._v(" "+t._s(t.errorMsg)+" ")]),s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),s("v-card-text",[s("FormSchedule",{attrs:{forminput:t.forminput}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:t.closeDialog}},[t._v("Cancel")]),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1),s("Dialog",{attrs:{dialog:t.alert,title:"Hapus data",text:"Anda yakin ingin menghapus data ini ?"},on:{ok:t.OkButton,no:t.NoButton}}),s("v-fab-transition",[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],attrs:{color:"pink",fab:"",dark:"",small:"",fixed:"",bottom:"",right:""},on:{click:t.addItem}},[s("v-icon",[t._v("add")])],1)],1),s("v-card-title",[t._v(" Table Jadwal "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.theaders,items:t.table,options:t.options,"server-item-length":t.lentable,loading:t.isLoading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.study_name))]),s("td",[t._v(t._s(e.item.teacher))]),s("td",[t._v(t._s(e.item.day_name))]),s("td",[t._v(t._s(e.item.class_name))]),s("td",[t._v(t._s(e.item.time_start)+" - "+t._s(e.item.time_end))]),s("td",{staticClass:"justify-center layout px-0"},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(s){return t.editItem(e.index)}}},[t._v(" edit ")]),s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(s){return t.deleteItem(e.item)}}},[t._v(" delete ")])],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),s("v-snackbar",{attrs:{value:t.errorMsg,color:t.color,"multi-line":"multi-line"===t.mode,timeout:t.timeout,vertical:"vertical"===t.mode}},[t._v(" "+t._s(t.errorMsg)+" "),s("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){return t.removeError()}}},[t._v(" Close ")])],1)],1)},i=[],r=(s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("d3b7"),s("ac1f"),s("841c"),s("159b"),s("ade3"));function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={components:{FormSchedule:function(){return s.e("chunk-48af75ad").then(s.bind(null,"ad3d"))},Dialog:function(){return s.e("chunk-2d0c55d3").then(s.bind(null,"3f7a"))}},data:function(){return{valid:!1,color:"",mode:"",timeout:6e3,alert:!1,forminput:{studyname:"",studycode:""},imageUrl:"",total:0,selected:[],sortbylast:null,search:"",loading:!1,formTitle:"Input Guru",hidden:!1,options:{},dialog:!1,editedIndex:-1,idselected:0,sortingDesc:"ASC",theaders:[{text:"Nama Pelajaran",value:"study_name"},{text:"Guru",value:"teacher"},{text:"Hari",value:"day_name"},{text:"Kelas",value:"class_name"},{text:"Jam pelajaran",sortable:!1},{text:"Actions",align:"center",sortable:!1}],currentY:0,lastY:0}},methods:{handleScroll:function(t){this.currentY=t.pageY,this.currentY>this.lastY?this.hidden=!0:this.hidden=!1,this.lastY=this.currentY},removeError:function(){var t=this.$store.dispatch;t("schedules/removeError")},editItem:function(t){var e=this.table[t],s=e.study_name,a=e.study_code;this.editedIndex=-1,this.forminput={studyname:s,studycode:a},this.idselected=this.table[t],this.formTitle="Edit Pelajaran";var i=this.$store.dispatch;i("schedules/openDialog")},addItem:function(){this.forminput={studyname:"",studycode:""},this.imageUrl="",this.editedIndex=1,this.formTitle="Tambah Pelajaran";var t=this.$store.dispatch;t("schedules/openDialog")},deleteItem:function(t){this.alert=!0,this.idselected=t},OkButton:function(){var t=this.$store.dispatch;t("schedules/deleteStudy",{id:this.idselected.study_id}),this.alert=!1,this.idselected=0},NoButton:function(){this.alert=!1},close:function(){this.idselected=0},closeDialog:function(){var t=this.$store.dispatch;t("schedules/closeDialog")},save:function(){if(this.$refs.form.$refs.form.validate()){if(this.isLoading)return;var t={};-1==this.editedIndex&&(t.id=this.idselected.study_id),t.studyname=this.forminput.studyname,t.studycode=this.forminput.studycode;var e=this.$store.dispatch;-1==this.editedIndex?e("schedules/updateStudy",{data:t}):e("schedules/uploadStudy",{data:t})}},getDataFromApi:function(){var t=this.$store.dispatch,e=this.options,s=e.sortBy,a=e.sortDesc,i=e.page,r=e.itemsPerPage;s.length>0&&(this.sortbylast=s),1===a.length&&(this.sortingDesc=a[0]?"DESC":"ASC"),t("schedules/storeReq",{index:i,rows:r,search:this.search,sortby:this.sortbylast,sort:this.sortingDesc})}},computed:{table:function(){return this.$store.getters["schedules/getAllItems"]},isLoading:function(){return this.$store.getters["schedules/getLoading"]},lentable:function(){return this.$store.getters["schedules/getLenItems"]},isUpload:function(){return this.$store.getters["schedules/getStatUpload"]},errorMsg:function(){return this.$store.getters["schedules/getError"]},params:function(){return o({},this.options,{query:this.search})},dialogActive:function(){return this.$store.getters["schedules/getDialog"]}},watch:{dialogActive:{handler:function(t){t||this.close()},deep:!0},options:{handler:function(){this.getDataFromApi()},deep:!0},params:{handler:function(){this.getDataFromApi()},deep:!0},isUpload:{handler:function(t,e){~t&&e&&this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi()},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},l=d,c=s("2877"),u=s("6544"),h=s.n(u),m=s("0798"),p=s("8336"),v=s("b0af"),f=s("99d9"),g=s("a523"),b=s("8fea"),y=s("169a"),_=s("0789"),x=s("132d"),k=s("2db4"),w=s("2fa4"),D=s("8654"),O=Object(c["a"])(l,a,i,!1,null,null,null);e["default"]=O.exports;h()(O,{VAlert:m["a"],VBtn:p["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:g["a"],VDataTable:b["a"],VDialog:y["a"],VFabTransition:_["c"],VIcon:x["a"],VSnackbar:k["a"],VSpacer:w["a"],VTextField:D["a"]})}}]);
//# sourceMappingURL=jadwal~e23efc58.eac0143d.js.map