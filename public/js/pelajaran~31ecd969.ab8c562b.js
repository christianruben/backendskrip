(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pelajaran~31ecd969"],{bad6:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-dialog",{attrs:{persistent:"",value:t.dialogActive,"max-width":"600px"}},[i("v-card",[i("v-alert",{attrs:{value:t.errorMsg,dismissible:"",color:"error"}},[t._v(" "+t._s(t.errorMsg)+" ")]),i("v-card-title",[i("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),i("v-card-text",[i("FormStudy",{ref:"form",attrs:{forminput:t.forminput}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:t.closeDialog}},[t._v("Cancel")]),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1),i("Dialog",{attrs:{dialog:t.alert,title:"Hapus data",text:"Anda yakin ingin menghapus data ini ?"},on:{ok:t.OkButton,no:t.NoButton}}),i("v-fab-transition",[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],attrs:{color:"pink",fab:"",dark:"",small:"",fixed:"",bottom:"",right:""},on:{click:t.addItem}},[i("v-icon",[t._v("add")])],1)],1),i("v-card-title",[t._v(" Table Pelajaran "),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.theaders,items:t.table,options:t.options,"server-items-length":t.lentable,loading:t.isLoading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v(" edit ")]),i("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v(" delete ")])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),i("v-snackbar",{attrs:{value:t.errorMsg,color:t.color,"multi-line":"multi-line"===t.mode,timeout:t.timeout,vertical:"vertical"===t.mode}},[t._v(" "+t._s(t.errorMsg)+" "),i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){return t.removeError()}}},[t._v(" Close ")])],1)],1)},s=[],a=(i("a4d3"),i("4de4"),i("4160"),i("c975"),i("e439"),i("dbb4"),i("b64b"),i("d3b7"),i("ac1f"),i("841c"),i("159b"),i("ade3"));function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={components:{FormStudy:function(){return i.e("chunk-ef74eae6").then(i.bind(null,"b99d"))},Dialog:function(){return i.e("chunk-2d0c55d3").then(i.bind(null,"3f7a"))}},data:function(){return{valid:!1,color:"",mode:"",timeout:6e3,alert:!1,forminput:{studyname:"",studycode:""},imageUrl:"",total:0,selected:[],sortbylast:null,search:"",loading:!1,formTitle:"Input Guru",hidden:!1,options:{},dialog:!1,editedIndex:-1,idselected:0,sortingDesc:"ASC",theaders:[{text:"Nama Pelajaran",value:"study_name"},{text:"Kode Pelajaran",value:"study_code"},{text:"Actions",value:"action",sortable:!1}],currentY:0,lastY:0}},methods:{handleScroll:function(t){this.currentY=t.pageY,this.currentY>this.lastY?this.hidden=!0:this.hidden=!1,this.lastY=this.currentY},removeError:function(){var t=this.$store.dispatch;t("studies/removeError")},editItem:function(t){var e=t.study_name,i=t.study_code;this.editedIndex=-1,this.forminput={studyname:e,studycode:i},this.idselected=t,this.formTitle="Edit Pelajaran";var r=this.$store.dispatch;r("studies/openDialog")},addItem:function(){this.forminput={studyname:"",studycode:""},this.imageUrl="",this.editedIndex=1,this.formTitle="Tambah Pelajaran";var t=this.$store.dispatch;t("studies/openDialog")},deleteItem:function(t){var e=this.table.indexOf(t);this.alert=!0,this.idselected=e},OkButton:function(){var t=this.$store.dispatch;t("studies/deleteStudy",{id:this.idselected.study_id}),this.alert=!1,this.idselected=0},NoButton:function(){this.alert=!1},close:function(){this.idselected=0},closeDialog:function(){var t=this.$store.dispatch;t("studies/closeDialog")},save:function(){if(this.$refs.form.$refs.form.validate()){if(this.isLoading)return;var t={};-1==this.editedIndex&&(t.id=this.idselected.study_id),t.studyname=this.forminput.studyname,t.studycode=this.forminput.studycode;var e=this.$store.dispatch;-1==this.editedIndex?e("studies/updateStudy",{data:t}):e("studies/uploadStudy",{data:t})}},getDataFromApi:function(){var t=this.$store.dispatch,e=this.options,i=e.sortBy,r=e.sortDesc,s=e.page,a=e.itemsPerPage;i.length>0&&(this.sortbylast=i),1===r.length&&(this.sortingDesc=r[0]?"DESC":"ASC"),t("studies/storeReq",{index:s,rows:a,search:this.search,sortby:this.sortbylast,sort:this.sortingDesc})}},computed:{table:function(){return this.$store.getters["studies/getAllItems"]},isLoading:function(){return this.$store.getters["studies/getLoading"]},lentable:function(){return this.$store.getters["studies/getLenItems"]},isUpload:function(){return this.$store.getters["studies/getStatUpload"]},errorMsg:function(){return this.$store.getters["studies/getError"]},params:function(){return o({},this.options,{query:this.search})},dialogActive:function(){return this.$store.getters["studies/getDialog"]}},watch:{dialogActive:{handler:function(t){t||this.close()},deep:!0},options:{handler:function(){this.getDataFromApi()},deep:!0},params:{handler:function(){this.getDataFromApi()},deep:!0},isUpload:{handler:function(t,e){~t&&e&&this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi()},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},c=d,l=i("2877"),u=i("6544"),h=i.n(u),f=i("0798"),p=i("8336"),v=i("b0af"),m=i("99d9"),g=i("a523"),b=i("8fea"),y=i("169a"),x=i("0789"),O=i("132d"),k=i("2db4"),D=i("2fa4"),w=i("8654"),_=Object(l["a"])(c,r,s,!1,null,null,null);e["default"]=_.exports;h()(_,{VAlert:f["a"],VBtn:p["a"],VCard:v["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VContainer:g["a"],VDataTable:b["a"],VDialog:y["a"],VFabTransition:x["c"],VIcon:O["a"],VSnackbar:k["a"],VSpacer:D["a"],VTextField:w["a"]})},c975:function(t,e,i){"use strict";var r=i("23e7"),s=i("4d64").indexOf,a=i("b301"),n=[].indexOf,o=!!n&&1/[1].indexOf(1,-0)<0,d=a("indexOf");r({target:"Array",proto:!0,forced:o||d},{indexOf:function(t){return o?n.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=pelajaran~31ecd969.ab8c562b.js.map