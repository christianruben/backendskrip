(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["siswa~31ecd969"],{a2b2:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-dialog",{attrs:{persistent:"",value:e.dialogActive,"max-width":"600px"}},[n("v-card",[n("v-alert",{attrs:{value:e.errorMsg,dismissible:"",color:"error"}},[e._v(" "+e._s(e.errorMsg)+" ")]),n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("FormGuru",{attrs:{forminput:e.forminput,imageUrl:e.imageUrl}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1),n("Dialog",{attrs:{dialog:e.alert,title:"Hapus data",text:"Anda yakin ingin menghapus data ini ?"},on:{ok:e.OkButton,no:e.NoButton}}),n("v-fab-transition",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],attrs:{color:"pink",fab:"",dark:"",small:"",fixed:"",bottom:"",right:""},on:{click:e.addItem}},[n("v-icon",[e._v("add")])],1)],1),n("v-card-title",[e._v(" Table Siswa "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.theaders,items:e.table,options:e.options,"server-items-length":e.lentable,loading:e.isLoading},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" edit ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" delete ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),n("v-snackbar",{attrs:{value:e.errorMsg,color:e.color,"multi-line":"multi-line"===e.mode,timeout:e.timeout,vertical:"vertical"===e.mode}},[e._v(" "+e._s(e.errorMsg)+" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.removeError()}}},[e._v(" Close ")])],1)],1)},r=[],i=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("c975"),n("fb6a"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("ac1f"),n("841c"),n("159b"),n("ade3"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={components:{FormGuru:function(){return Promise.all([n.e("chunk-27cfdaa1"),n.e("chunk-597a9717"),n.e("chunk-3eb5eb33"),n.e("chunk-2d0bdd57"),n.e("chunk-af534a92"),n.e("chunk-2d230e61")]).then(n.bind(null,"edf2"))},Dialog:function(){return n.e("chunk-2d0c55d3").then(n.bind(null,"3f7a"))}},data:function(){return{color:"",mode:"",timeout:6e3,alert:!1,forminput:{imageFile:null,name:"Kristian",nis:"023912389123",gender:"Lelaki",religion:"Kristen Protestan",bornplace:"Jakarta",borndate:"",fathername:"",mothername:"",address:"Tangerang",phonenumber:"08943429343",class:{name:"",id:-1}},imageUrl:"",total:0,selected:[],sortbylast:null,search:"",loading:!1,formTitle:"Input Siswa",hidden:!1,options:{},dialog:!1,editedIndex:-1,idselected:0,sortingDesc:"ASC",theaders:[{text:"Nama",value:"name"},{text:"NIS",value:"NIS"},{text:"Kelamin",value:"gender"},{text:"Agama",value:"religion"},{text:"Tempat Lahir",value:"born_place"},{text:"Tanggal Lahir",value:"born_date"},{text:"Ayah",value:"father_name"},{text:"Ibu",value:"mother_name"},{text:"Alamat",value:"address"},{text:"No Telp",value:"phone_number"},{text:"Actions",value:"action",sortable:!1}],currentY:0,lastY:0}},methods:{handleScroll:function(e){this.currentY=e.pageY,this.currentY>this.lastY?this.hidden=!0:this.hidden=!1,this.lastY=this.currentY},removeError:function(){var e=this.$store.dispatch;e("students/removeError")},editItem:function(e){var t=e.class_id,n=e.class_name,a=e.father_name,r=e.mother_name,i=e.department_id,s=e.gender,o=e.student_id;this.editedIndex=-1,this.forminput={imageFile:null,name:e.name,nis:e.NIS,gender:"".concat(s.charAt(0).toUpperCase()).concat(s.slice(1)),religion:e.religion,bornplace:e.born_place,borndate:e.dateborn,address:e.address,fathername:a,mothername:r,phonenumber:e.phone_number,class:{name:n,id:t,dept:i}},this.idselected=o,this.imageUrl="http://localhost:3000/images/uploads/".concat(e.picture),this.formTitle="Edit Siswa";var d=this.$store.dispatch;d("students/openDialog")},addItem:function(){this.forminput={imageFile:null,name:"Kristian",nis:"023912389123",gender:"Lelaki",religion:"Kristen Protestan",bornplace:"Jakarta",borndate:"",fathername:"",mothername:"",address:"Tangerang",phonenumber:"08943429343",class:{}},this.imageUrl="",this.editedIndex=1,this.formTitle="Tambah Siswa";var e=this.$store.dispatch;e("students/openDialog")},deleteItem:function(e){var t=this.table.indexOf(e);this.alert=!0,this.idselected=t},OkButton:function(){var e=this.$store.dispatch;e("students/deleteStudent",{id:this.idselected.teacher_id}),this.alert=!1,this.idselected=0},NoButton:function(){this.alert=!1},close:function(){this.idselected=0},closeDialog:function(){var e=this.$store.dispatch;e("students/closeDialog")},save:function(){if(!this.isLoading){var e=new FormData;-1==this.editedIndex&&e.append("id",this.idselected),e.append("imgusr",this.forminput.imageFile),e.append("name",this.forminput.name),e.append("nis",this.forminput.nis),e.append("gender",this.forminput.gender),e.append("religion",this.forminput.religion),e.append("bornPlace",this.forminput.bornplace),e.append("bornDate",this.forminput.borndate),e.append("fatherName",this.forminput.fathername),e.append("motherName",this.forminput.mothername),e.append("address",this.forminput.address),e.append("phoneNumber",this.forminput.phonenumber),e.append("classid",this.forminput.class.id);var t=this.$store.dispatch;-1==this.editedIndex?t("students/updateStudent",{data:e}):t("students/uploadStudent",{data:e})}},getDataFromApi:function(){var e=this.$store.dispatch,t=this.options,n=t.sortBy,a=t.sortDesc,r=t.page,i=t.itemsPerPage;n.length>0&&(this.sortbylast=n),1===a.length&&(this.sortingDesc=a[0]?"DESC":"ASC"),e("students/storeReq",{index:r,rows:i,search:this.search,sortby:this.sortbylast,sort:this.sortingDesc})}},computed:{table:function(){return this.$store.getters["students/getAllItems"]},isLoading:function(){return this.$store.getters["students/getLoading"]},lentable:function(){return this.$store.getters["students/getLenItems"]},isUpload:function(){return this.$store.getters["students/getStatUpload"]},errorMsg:function(){return this.$store.getters["students/getError"]},params:function(){return o({},this.options,{query:this.search})},dialogActive:function(){return this.$store.getters["students/getDialog"]}},watch:{dialogActive:{handler:function(e){e||this.close()},deep:!0},options:{handler:function(){this.getDataFromApi()},deep:!0},params:{handler:function(){this.getDataFromApi()},deep:!0},isUpload:{handler:function(e,t){~e&&t&&this.getDataFromApi()},deep:!0}},mounted:function(){this.getDataFromApi()},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},l=d,c=n("2877"),u=n("6544"),h=n.n(u),p=n("0798"),m=n("8336"),f=n("b0af"),g=n("99d9"),b=n("a523"),v=n("8fea"),x=n("169a"),k=n("0789"),y=n("132d"),_=n("2db4"),w=n("2fa4"),O=n("8654"),D=Object(c["a"])(l,a,r,!1,null,null,null);t["default"]=D.exports;h()(D,{VAlert:p["a"],VBtn:m["a"],VCard:f["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:b["a"],VDataTable:v["a"],VDialog:x["a"],VFabTransition:k["c"],VIcon:y["a"],VSnackbar:_["a"],VSpacer:w["a"],VTextField:O["a"]})},b0c0:function(e,t,n){var a=n("83ab"),r=n("9bf2").f,i=Function.prototype,s=i.toString,o=/^\s*function ([^ (]*)/,d="name";!a||d in i||r(i,d,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})},c975:function(e,t,n){"use strict";var a=n("23e7"),r=n("4d64").indexOf,i=n("b301"),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,d=i("indexOf");a({target:"Array",proto:!0,forced:o||d},{indexOf:function(e){return o?s.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(e,t,n){"use strict";var a=n("23e7"),r=n("861d"),i=n("e8b5"),s=n("23cb"),o=n("50c4"),d=n("fc6a"),l=n("8418"),c=n("1dde"),u=n("b622"),h=u("species"),p=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!c("slice")},{slice:function(e,t){var n,a,c,u=d(this),f=o(u.length),g=s(e,f),b=s(void 0===t?f:t,f);if(i(u)&&(n=u.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(u,g,b);for(a=new(void 0===n?Array:n)(m(b-g,0)),c=0;g<b;g++,c++)g in u&&l(a,c,u[g]);return a.length=c,a}})}}]);
//# sourceMappingURL=siswa~31ecd969.80b1725b.js.map